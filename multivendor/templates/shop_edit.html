{% extends "layout.html" %}

{% block content1 %}
<style>
  .theme-selection {
    gap: 20px;
  }
  .theme-option {
    cursor: pointer;
    border: 2px solid transparent;
    padding: 10px;
    border-radius: 10px;
    transition: all 0.3s ease-in-out;
    width: 120px;
  }
  .theme-option input[type="radio"] {
    display: none;
  }
  .theme-option .theme-img {
    width: 100%;
    height: 80px;
    object-fit: cover;
    border-radius: 8px;
  }
  .theme-option .theme-label {
    margin-top: 8px;
    font-weight: 500;
  }
  .theme-option input[type="radio"]:checked + .theme-img {
    border: 3px solid #28a745;
  }
  .theme-option input[type="radio"]:checked ~ .theme-label {
    color: #28a745;
  }
</style>


  
<div class="content-section mb-4">
  <div class="header-title11">ðŸš€Edit Shop Info</div>
  <div class="sub-header11">Add More information about your store and customize it</div>

  <form method="POST", action="" enctype="multipart/form-data">
    {{ form.hidden_tag() }}
    <fieldset class="form-group">

       <!-- shopname Field -->
          <div class="form-group11">
            {{ form.shop_name.label(class="form-control-label", for="shop_name") }}
            {% if form.shop_name.errors %}
              {{ form.shop_name(class="form-control is-invalid", id="shop_name") }}
              <div class="invalid-feedback">
                {% for error in form.shop_name.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.shop_name(class="form-control", id="name") }}
            {% endif %}
          </div>

          <!-- description Field -->
          <div class="form-group11">
            {{ form.shop_motto.label(class="form-control-label", for="shop_motto") }}
            {% if form.shop_motto.errors %}
              {{ form.shop_motto(class="form-control is-invalid", id="shop_motto") }}
              <div class="invalid-feedback">
                {% for error in form.shop_motto.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.shop_motto(class="form-control", id="shop_motto") }}
            {% endif %}
          </div>

           <!-- description Field -->
          <div class="form-group11">
            {{ form.shop_about.label(class="form-control-label", for="shop_about") }}
            {% if form.shop_about.errors %}
              {{ form.shop_about(class="form-control is-invalid", id="shop_about") }}
              <div class="invalid-feedback">
                {% for error in form.shop_about.errors %}
                  <span>{{ error }}</span>
                {% endfor %}
              </div>
            {% else %}
              {{ form.shop_about(class="form-control", id="shop_about") }}
            {% endif %}
          </div>

          

      <div class="form-group11">
          <label for="picture" class="d-block">Upload Store Banner for Display</label>

          <!-- Hidden File Input with Multiple Selection Enabled -->
          {{ form.picture(class="form-control-file d-none", id="picture") }}

          <!-- Custom Upload Button (Using an Image) -->
          <label for="picture" class="custom-file-upload">
              <img src="{{ url_for('static', filename='images/cloud-upload-alt (1).png') }}" 
                   alt="Upload" width="50" height="50" style="cursor: pointer;">
          </label>

          <!-- Image Preview Container -->
          <div id="image-preview-container" class="mt-3"></div>

          <!-- Error Handling -->
          {% if form.picture.errors %}
              {% for error in form.picture.errors %}
                  <span class='text-danger'>{{ error }}</span><br>
              {% endfor %}
          {% endif %}
      </div>
      <!-- Shop Theme Selection -->
    <div class="form-group11 mt-4">
      <label class="form-control-label">Choose a Theme</label>
      <div class="d-flex justify-content-between flex-wrap mt-2 theme-selection">

        <!-- Theme Option 1: None -->
        <label class="theme-option text-center">
          <input type="radio" name="shop_theme" value="none" {% if form.shop_theme.data == 'none' %}checked{% endif %}>

          <img src="{{ url_for('static', filename='images/theme1.png') }}" alt="None Theme" class="theme-img">
          <div class="theme-label">None</div>
        </label>

        <!-- Theme Option 2: White -->
        <label class="theme-option text-center">
          <input type="radio" name="shop_theme" value="white" {% if form.shop_theme.data == 'white' %}checked{% endif %}>
          <img src="{{ url_for('static', filename='images/theme2.png') }}" alt="White Theme" class="theme-img">
          <div class="theme-label">White</div>
        </label>

        <!-- Theme Option 3: Pastel -->
        <label class="theme-option text-center">
          <input type="radio" name="shop_theme" value="pastel" {% if form.shop_theme.data == 'pastel' %}checked{% endif %}>
          <img src="{{ url_for('static', filename='images/theme3.png') }}" alt="Pastel Theme" class="theme-img">
          <div class="theme-label">Pastel</div>
        </label>

      </div>
    </div>






    </fieldset>

    <!-- Submit Button -->
    <div class="form-group11">
      {{ form.submit(class="btn-custom") }}
    </div>
  </form>
<!-- JavaScript for Image Preview -->
<script>
document.getElementById('picture').addEventListener('change', function(event) {
    let previewContainer = document.getElementById('image-preview-container');
    previewContainer.innerHTML = ''; // Clear previous previews

    for (let file of event.target.files) {
        let reader = new FileReader();
        reader.onload = function(e) {
            let img = document.createElement('img');
            img.src = e.target.result;
            img.width = 60;  // Adjust preview size
            img.height = 60;
            img.style.margin = '5px';
            img.style.borderRadius = '8px';
            img.style.objectFit = 'cover';
            previewContainer.appendChild(img);
        };
        reader.readAsDataURL(file);
    }
});
</script>
</div>
{% endblock %}
